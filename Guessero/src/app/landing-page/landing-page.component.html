<!-- Setup screen -->
<div *ngIf="!partyId" class="w-full h-full flex flex-col justify-center items-center">
    <h1 (click)="searchingParties = false" class="text-[7rem] text-slate-50">Guessero</h1>
    <h2 *ngIf="username && !searchingParties" class="text-white opacity-40 text-center mt-[-1rem] font-semibold">Ender a code to either join/create a party, <br/> or click the button to find public lobbys</h2>

    <!--Username screen-->
    <div *ngIf="!username" class="flex flex-col items-center">
        <h1 class="text-3xl text-slate-50 opacity-30 mt-[-2rem]">
            Choose your username
        </h1>
        <div class="relative mt-4">
            <input #inputUsername class="bg-transparent border-2 outline-none text-2xl border-zinc-400 py-4 pl-8 pr-12 rounded-full text-slate-50 w-full" type="text" placeholder="">
            <button class="absolute right-4 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-zinc-400 flex items-center justify-center" (click)="this.username = inputUsername.value">
                <i class="fa-solid fa-chevron-right text-slate-50"></i>
            </button>
        </div>
    </div>


    <!--Public lobbies screen-->
    <div *ngIf="searchingParties" class="w-1/4 mt-4">
        <div *ngFor="let party of parties">
            <p class="text-white">Party ID: {{ party }}</p>
        </div>
    </div>

    <!--Join/Create party screen-->
    <div *ngIf="username && !searchingParties" class="relative w-1/4 mt-4 flex flex-row items-center">
        <div class="relative w-1/2">
            <input #inputPartyID class="bg-transparent border-2 outline-none text-2xl border-zinc-400 py-4 pl-8 pr-12 rounded-full text-slate-50 w-full" type="text" placeholder="">
            <button class="absolute right-4 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full bg-zinc-400 flex items-center justify-center" (click)="this.partyId = inputPartyID.value">
                <i class="fa-solid fa-chevron-right text-slate-50"></i>
            </button>
        </div>
        <div class="w-px h-24 bg-zinc-400 mx-4"></div>
        <div class="w-1/2 flex flex-col items-center">
            <button (click)="searchingParties = true; listParties()" class="bg-transparent border-2 border-zinc-400 text-white text-2xl font-semibold rounded-full py-4 px-4">Find public lobbys</button>
        </div>
    </div>

    

</div>

<div *ngIf="partyId" class="w-full h-full flex flex-row text-white">
    <div class="w-1/2 h-full bg-black bg-opacity-40 flex flex-col p-16">
       <h1 class="text-[3rem] text-slate-50 font-semibold">Party Settings</h1>
       <div class="w-1/2 flex flex-col mt-4">
          <h2 class="text-xl font-semibold mb-4">Party ID</h2>
          <input #inputPartyID [value]="partyId" class="bg-transparent border-2 outline-none text-2xl border-zinc-400 py-4 pl-8 pr-12 rounded-full text-slate-50 w-full" type="text" placeholder="">
       </div>
       <div class="w-1/2 flex flex-col mt-4">
          <h2 class="text-xl font-semibold">Party visability</h2>
          <select #partyVisability class="bg-transparent border-2 border-zinc-400 text-white text-2xl font-semibold rounded-full py-2 px-4 mt-4">
             <option value="public">Public</option>
             <option value="private">Private</option>
          </select>
       </div>
       
       <div class="w-full h-1/6 mt-auto flex flex-col justify-center items-center">
          <button (click)="createParty(inputPartyID.value, partyVisability.value)" class="bg-transparent border-2 border-zinc-400 text-white text-2xl font-semibold rounded-full py-4 px-8">
             Create party
          </button>
       </div>
    </div>

    <div class="w-1/2 h-full flex flex-col justify-center items-center">
       <h1 (click)="partyId = '' " class="text-[7rem] text-slate-50">Guessero</h1>
    </div>
</div>
